# 2026-02-26 记忆记录

## 重要事件

### 1. VPS IPv6 备份任务

**第一台 VPS (VPS1)**
- IPv6: `2602:294:0:dc:1234:4321:7f68:0001`
- SSH 密码：`Xw10086@`
- 备份大小：445MB
- 文件名：`vps-ipv6-backup-2026-02-26.tar.gz`
- 状态：✅ 已推送到 GitHub

**第二台 VPS (VPS2)**
- IPv6: `2602:294:0:b7:1234:1234:dbca:0001`
- SSH 密码：`This-is-1-dog`
- 备份大小：1.4GB
- 文件名：`vps2-ipv6-backup-2026-02-26.tar.gz`
- 状态：✅ 已推送到 GitHub

### 2. 技术突破

**Xray 配置更新**
- 从 Trojan 协议切换到 VLESS 协议
- 新节点：`vless://ee188be1-a17f-41c3-e45d-0f7f3bb2d66a@www.wto.org:443`
- SNI: `vless.camwise.dpdns.org`
- 路径：`/`

**IPv6 SSH 连接方法**
- 使用 `nc -x 127.0.0.1:1080 -X 5 %h %p` 作为 ProxyCommand
- 通过 SOCKS5 代理连接纯 IPv6 VPS
- 解决了 SSH banner 超时问题

**备份方法**
- SSH 流式备份：`tar -czf - / | ssh ... > backup.tar.gz`
- 不占用远程 VPS 磁盘空间
- 使用 Git LFS 推送大文件到 GitHub

### 3. 文档创建

**RESTORE_GUIDE.md**
- 详细的恢复指南
- 三种恢复方法（本地、SSH、IPv6+ 代理）
- 快速恢复脚本
- 故障排除指南
- 已推送到 GitHub

### 4. 系统配置

**模型配置**
- 主模型：`qwen-portal/coder-model`
- 备用模型：`openai-codex/gpt-5.3-codex`

**Xray 监控**
- 增强监控脚本：`/home/codespace/enhanced_xray_monitor.sh`
- 每 5 分钟自动检查 Xray 状态

## 技术学习

1. **IPv6 SSH 连接** - 使用 netcat 的 SOCKS5 代理功能
2. **VLESS 协议** - 比 Trojan 更稳定的连接
3. **Git LFS** - 处理大文件推送（最大 2GB）
4. **流式备份** - 不占用远程磁盘的备份方法

## 待办事项

- [ ] 定期更新 VPS 备份（建议每周）
- [ ] 测试恢复流程确保备份可用
- [ ] 监控 GitHub LFS 使用量
- [ ] 考虑增量备份方案

## 重要命令

```bash
# IPv6 SSH 连接
sshpass -p 'PASSWORD' ssh -o ProxyCommand='nc -x 127.0.0.1:1080 -X 5 %h %p' root@IPv6_ADDR

# 流式备份
sshpass -p 'PASSWORD' ssh root@IPv6_ADDR "tar -czf - /" > backup.tar.gz

# Xray 状态检查
/home/codespace/enhanced_xray_monitor.sh status
```

---
*记录时间：2026-02-26*
*记录者：amy*
